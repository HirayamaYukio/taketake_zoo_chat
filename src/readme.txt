TAKETAKE ZOO CHAT readme

本アプリはTwitchのポップアップしているチャットに対して
既存の名前を変更するアプリです。

【インストール】
自作アドオンのインストール方法
　以下のサイトなど参考にしてください
  https://exemate.co.jp/archives/7594

【起動前準備】
src/manifest.jsonに記載している以下の行を任意のアドレスに変更して下さい。
初期値↓はポップアップしたすべてのTwitchチャットに適応されるので、
初期値："matches": ["https://www.twitch.tv/popout/*"]
ご自身のチャットのURLに絞って下さい。(フルパスでも可)
例："matches": ["https://www.twitch.tv/popout/usttakecchi9/chat?popout="]
⚠️ファイルの構造(Json形式)は崩さないように編集してください。

【起動方法】
起動前準備が完了したら、Chromの拡張機能画面からリロードして編集を反映して下さい。
その後、対象のチャットをポップアップもしくはポップアップしているチャットを更新して下さい。
⚠️ファイルを編集した際は上記の方法でリロードしないと反映されません

【終了方法】
Chromの拡張機能画面から無効にして下さい。
起動前準備で指定したURLにしか反応しないので、都度無効にしなくても大丈夫です。

【cssについて】(v2.1.1変更)
OBSのカスタムCSSは反映されないので、CSSを反映させたい場合はsrccontent/css/chat.cssに記述して下さい。
不要の場合はcssの記述を削除してください。(ファイル自体は削除しないでください。)

【ポップアップウィンドウの設定登録機能】(v2.1.1追加)
ポップアップウィンドウの各テキスト欄とリストボックから以下を設定することができます。
各項目を1つでも更新したら、ポップアップウィンドウを閉じる前に「Save all」で保存してください。
(右にある各2つのボタンはそれぞれのテキスト欄をコピー、クリアするボタンです)

 [配信者ホストID設定機能]
 配信者のホスト名のみフィルタを除外する機能です。
 テキスト欄に入力したTwitch IDは置換されずに、元々の表示名が表示されます。
 IDは1つしか入力できません。
 [ベース名リスト機能]
 置換される名前のベース名をカンマ区切りの文字列で登録することができます。
 何も入力がない場合、初期値が適応されます。
 [先頭名リスト機能]
 FirstName modeで使用される先頭名をカンマ区切りの文字列で登録することができます。
 何も入力がない場合、初期値が適応されます。
 [報酬リスト機能]
 リスナーが報酬引き換えた時に表示されるお知らせチャットの表示名を変更するための
 報酬リストをカンマ区切りの文字列で登録することができます。
 お知らせチャット内のリスナーの表示名も変更した場合はこの機能を利用してください。
 (⚠️報酬のタイトルに,を入れると正しく機能しません)
 [置換モード設定機能]
 リストボックスを変更して置換後の名前を以下の2パターンで変更できます。
  ・Number mode
    [ベース名] + [数字]
  ・FirstName mode
    [先頭名] + [ベース名]
    (先頭名は重複しないようになっているので、登録したものが全て無くなるとNumber modeと同様の名前になります)

【その他】(v2.1.1変更)
[仕様]
・チャットを最小化していたり、あまり長くスクロールを停止していると名前変更されなくなるので、
基本的には動かしっぱなしにしてください

・チャット読み込み時に少し変更に遅延があるのは仕様です
  ⚠️初回読み込みが稀に失敗する時があります。その際は再更新してください。

・ポップアップの内容を変更した後、保存せずに閉じてしまうと記述した内容は無くなります。

・以下の条件になってしまった場合は正常に動作しません(Twitchチャットの仕様上対応できませんでした)
  - Twitchチャットの表示名(非Twitch id)が完全一致している複数のユーザーがチャットを１度もしない状態で
    ポイントを交換してお知らせメッセージを表示した場合
      →おそらくどちらがチャットしても、はじめにお知らせメッセージを出したユーザーの表示名になります。
        通常のチャットをした場合はTwitch idを参照するので問題ないと思います。(動作未確認)
    
